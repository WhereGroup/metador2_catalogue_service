<gmd:MD_Metadata
   xmlns:srv="http://www.isotc211.org/2005/srv"
   xmlns:gmd="http://www.isotc211.org/2005/gmd"
   xmlns:gco="http://www.isotc211.org/2005/gco"
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xmlns:gml="http://www.opengis.net/gml"
   xmlns:xlink="http://www.w3.org/1999/xlink"
xsi:schemaLocation="http://www.isotc211.org/2005/gmd http://schemas.opengis.net/csw/2.0.2/profiles/apiso/1.0.0/apiso.xsd">

   {% if p['fileIdentifier'] is defined %}
     <gmd:fileIdentifier>
       <gco:CharacterString>{{ p['fileIdentifier'] }}</gco:CharacterString>
     </gmd:fileIdentifier>
   {% endif %}
   <gmd:language>
     <gmd:LanguageCode codeList="http://www.loc.gov/standards/iso639-2/" codeListValue="{{ p['metadataLanguage'] }}">{{ p['metadataLanguage'] }}</gmd:LanguageCode>
   </gmd:language>
   <gmd:characterSet>
     <gmd:MD_CharacterSetCode codeSpace="ISOTC211/19115" codeListValue="utf8" codeList="http://www.isotc211.org/2005/resources/Codelist/gmxCodelists.xml#MD_CharacterSetCode">utf8</gmd:MD_CharacterSetCode>
   </gmd:characterSet>
   {% if p['hierarchyLevel'] is defined %}
     <gmd:hierarchyLevel>
       <gmd:MD_ScopeCode codeList="http://standards.iso.org/ittf/PubliclyAvailableStandards/ISO_19139_Schemas/resources/Codelist/ML_gmxCodelists.xml#MD_ScopeCode" codeListValue="{{ p['hierarchyLevel'] }}">{{ p['hierarchyLevel'] }}</gmd:MD_ScopeCode>
     </gmd:hierarchyLevel>
   {% endif %}
   <gmd:identificationInfo>
     <srv:SV_ServiceIdentification>
       <gmd:citation>
         <gmd:CI_Citation>
           {% if p['title'] is defined %}
             <gmd:title>
               <gco:CharacterString>{{ p['title'] }}</gco:CharacterString>
             </gmd:title>
           {% endif %}
         </gmd:CI_Citation>
       </gmd:citation>
       {% if p['browserGraphic'] is defined %}
         <gmd:graphicOverview>
           <gmd:MD_BrowseGraphic>
             <gmd:fileName>
               <gco:CharacterString>{{ p['browserGraphic'] }}</gco:CharacterString>
             </gmd:fileName>
           </gmd:MD_BrowseGraphic>
         </gmd:graphicOverview>
       {% endif %}
       <srv:extent>
         <gmd:EX_Extent>
           {% if p['bbox'] is defined %}
             {% for bbox in p['bbox'] %}
               <gmd:geographicElement>
                 <gmd:EX_GeographicBoundingBox>
                   <gmd:westBoundLongitude>
                     <gco:Decimal>{{ bbox['wLongitude'] }}</gco:Decimal>
                   </gmd:westBoundLongitude>
                   <gmd:eastBoundLongitude>
                     <gco:Decimal>{{ bbox['eLongitude'] }}</gco:Decimal>
                   </gmd:eastBoundLongitude>
                   <gmd:southBoundLatitude>
                     <gco:Decimal>{{ bbox['sLatitude'] }}</gco:Decimal>
                   </gmd:southBoundLatitude>
                   <gmd:northBoundLatitude>
                     <gco:Decimal>{{ bbox['nLatitude'] }}</gco:Decimal>
                   </gmd:northBoundLatitude>
                 </gmd:EX_GeographicBoundingBox>
               </gmd:geographicElement>
             {% endfor %}
           {% endif %}
         </gmd:EX_Extent>
       </srv:extent>
     </srv:SV_ServiceIdentification>
   </gmd:identificationInfo>
</gmd:MD_Metadata>
